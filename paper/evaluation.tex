\section{Evaluation}
\label{sec:evaluation}

We have implemented functions from OpenSSL in our language, to show that our
system can be practical. We implemented ssl3\_cbc\_remove\_padding.c. Our
comparison shows up in Section~\ref{sec:evaluation}.

\para{ssl3\_cbc\_remove\_padding} We implemented the ssl3\_cbc\_remove\_padding.c in our language to show that more implementations are possible. Since our language is not fully fleshed out with all the desired features, we ran into a few problems when replicating this function. The original function utilizes structs --- instead, we broke up the structs into individual variables, and any mutable objects that needed to be modified were passed in and modified in a \bytearray. Since we do not support memory referencing or public labels, we had to hardcode the size of the arrays. Moreover, we do not support unsigned types in our language, so wherever an unsigned was used in the original function, we used an int in our code.

We were not able to evaluate our implementation due to a variety of reasons.

\cite{almeida2016}

Moreover, we were not able to perform microbenchmarks on this fucntion because
it would not have been fair. We only implemented one function that cannot stand
on it's own --- in order to truly test this, we would like to implement the
functinos needed to encrypt and decrypt, so that we can test the function is
it's full form.

TODO: Note that the branch in~\ref{fig:openssl-original} is legal since the lengths in the conditional are public.

\begin{figure*}
    \centering
    \begin{subfigure}[b]{0.49\textwidth}
		\dbox{\input{figures/openssl-original}}
		\caption{The original OpenSSL function.\newline}
		\label{fig:openssl-original}
    \end{subfigure}
    \begin{subfigure}[b]{0.49\textwidth}
		\dbox{\input{figures/openssl-intuitive}}
		\caption{The OpenSSL function expressed more intuitively, without using their constant-time branch-avoiding routines.}
		\label{fig:openssl-intuitive}
    \end{subfigure}
    \caption{OpenSSL function used to evaluate Constanc.}\label{fig:openssl}\floatspace
\end{figure*}
